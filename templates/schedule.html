<!DOCTYPE html>
<html lang="zxx">

<head>
    <title>課程檢索</title>
    <meta charset="UTF-8">
    <meta name="description" content="loans HTML Template">
    <meta name="keywords" content="loans, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link href="static/img/favicon.ico" rel="shortcut icon" />

    <!-- Google font -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap"
        rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css" />
    <link rel="stylesheet" href="static/css/font-awesome.min.css" />
    <link rel="stylesheet" href="static/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="static/css/flaticon.css" />
    <link rel="stylesheet" href="static/css/slicknav.min.css" />

    <!-- Main Stylesheets -->
    <link rel="stylesheet" href="static/css/style.css" />
    

    <!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
		


        $(document).ready(function(){ //用迴圈填入課表
			$("#person_data").hide();
				var login = '{{login_message}}'
				if(login>=1){
					
					$('#person_data #s_id').html('{{student}}')
					$('#person_data #name').html('{{student}}')
					$('#person_data #s_cla').html('{{student}}')
					$("#person_data #sign_out").html("登出")
					$("#person_data").show();
				}
		var booklists = {{ books|tojson }};
		var k=0;
		for(i=1;i<15;i++){
                $("#c_list").append($("<tr>"));
                $("#c_list").append($("<td align=\"center\" style=\"width: 100px\" style=\"height: 100px\">"+i+"</td>"));
                for(j=1;j<=7;j++)
                {
                    for(k=1;k<=booklists[0][0];k++)
		    {
 			if(booklists[k][0]==j&&booklists[k][2]<=i&&booklists[k][3]>=i)
			{
				break;
			}
		    }
		    if(k<=booklists[0][0])
                    	$("#c_list").append($("<td align=\"center\" style=\"width: 100px\" style=\"height: 100px\">"+booklists[k][1]+"</td>"));
		    else
			$("#c_list").append($("<td align=\"center\" style=\"width: 100px\" style=\"height: 100px\">"+'&nbsp'+"</td>"));
		    
			
                }
                $("#c_list").append($("</tr>"));
            }
        })
		// 登錄成功後會從flask接收到loginmessage=1 的訊息，出現彈出視窗
	</script>
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Header Section -->
    <header class="header-section">
        <a href="index" class="site-logo">
            <img src="static/img/logo.png" alt="">
        </a>
        <nav class="header-nav">
            <ul class="main-menu">
                <li><a href="index">主頁</a></li>
                <li><a href="searchCourse" >課程檢索</a></li>
                <li><a href="schedule" class="active">我的課表</a></li>
                <li id="person_data"><a href="#">個人資料</a>
					<ul class="sub-menu">
						<li><a id="s_id"></a></li>
						<li><a id="name"></a></li>
                        <li><a id="s_cla"></a></li>
                        <li><a id="sign_out" href="index"></a></li>
					</ul>
				</li>
            </ul>
        </nav>
    </header>
    <!-- Header Section end -->

    <!-- About Section end -->
    <section>
        <div>
            <br></br>
        </div>
    </section>
    <section class="about-section spad">
        <div class="container">
            <h2>我的課表</h2>
            <p>{{student[]}}</p>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <!-- 選課按鈕的欄位 -->
                        <th></th>
                        <!-- 下方欄位自行更改 -->
                        <th>一</th>
                        <th>二</th>
                        <th>三</th>
                        <th>四</th>
                        <th>五</th>
                        <th>六</th>
                        <th>日</th>
                    </tr>
                </thead>
                <tbody id="c_list">
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <!-- About Section end -->



    <!--====== Javascripts & Jquery ======-->
    <script src="static/js/jquery-3.2.1.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/jquery.slicknav.min.js"></script>
    <script src="static/js/owl.carousel.min.js"></script>
    <script src="static/js/jquery-ui.min.js"></script>
    <script src="static/js/main.js"></script>

</body>

</html>